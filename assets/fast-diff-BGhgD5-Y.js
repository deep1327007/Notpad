var $,Y;function rr(){if(Y)return $;Y=1;var N=-1,I=1,F=0;function Q(r,e,n,g,l){if(r===e)return r?[[F,r]]:[];if(n!=null){var a=d(r,e,n);if(a)return a}var h=z(r,e),v=r.substring(0,h);r=r.substring(h),e=e.substring(h),h=U(r,e);var i=r.substring(r.length-h);r=r.substring(0,r.length-h),e=e.substring(0,e.length-h);var c=B(r,e);return v&&c.unshift([F,v]),i&&c.push([F,i]),O(c,l),g&&o(c),c}function B(r,e){var n;if(!r)return[[I,e]];if(!e)return[[N,r]];var g=r.length>e.length?r:e,l=r.length>e.length?e:r,a=g.indexOf(l);if(a!==-1)return n=[[I,g.substring(0,a)],[F,l],[I,g.substring(a+l.length)]],r.length>e.length&&(n[0][0]=n[2][0]=N),n;if(l.length===1)return[[N,r],[I,e]];var h=C(r,e);if(h){var v=h[0],i=h[1],c=h[2],b=h[3],u=h[4],_=Q(v,c),t=Q(i,b);return _.concat([[F,u]],t)}return T(r,e)}function T(r,e){for(var n=r.length,g=e.length,l=Math.ceil((n+g)/2),a=l,h=2*l,v=new Array(h),i=new Array(h),c=0;c<h;c++)v[c]=-1,i[c]=-1;v[a+1]=0,i[a+1]=0;for(var b=n-g,u=b%2!==0,_=0,t=0,A=0,S=0,D=0;D<l;D++){for(var s=-D+_;s<=D-t;s+=2){var p=a+s,m;s===-D||s!==D&&v[p-1]<v[p+1]?m=v[p+1]:m=v[p-1]+1;for(var M=m-s;m<n&&M<g&&r.charAt(m)===e.charAt(M);)m++,M++;if(v[p]=m,m>n)t+=2;else if(M>g)_+=2;else if(u){var R=a+b-s;if(R>=0&&R<h&&i[R]!==-1){var w=n-i[R];if(m>=w)return k(r,e,m,M)}}}for(var E=-D+A;E<=D-S;E+=2){var R=a+E,w;E===-D||E!==D&&i[R-1]<i[R+1]?w=i[R+1]:w=i[R-1]+1;for(var P=w-E;w<n&&P<g&&r.charAt(n-w-1)===e.charAt(g-P-1);)w++,P++;if(i[R]=w,w>n)S+=2;else if(P>g)A+=2;else if(!u){var p=a+b-E;if(p>=0&&p<h&&v[p]!==-1){var m=v[p],M=a+m-p;if(w=n-w,m>=w)return k(r,e,m,M)}}}}return[[N,r],[I,e]]}function k(r,e,n,g){var l=r.substring(0,n),a=e.substring(0,g),h=r.substring(n),v=e.substring(g),i=Q(l,a),c=Q(h,v);return i.concat(c)}function z(r,e){if(!r||!e||r.charAt(0)!==e.charAt(0))return 0;for(var n=0,g=Math.min(r.length,e.length),l=g,a=0;n<l;)r.substring(a,l)==e.substring(a,l)?(n=l,a=n):g=l,l=Math.floor((g-n)/2+n);return L(r.charCodeAt(l-1))&&l--,l}function G(r,e){var n=r.length,g=e.length;if(n==0||g==0)return 0;n>g?r=r.substring(n-g):n<g&&(e=e.substring(0,n));var l=Math.min(n,g);if(r==e)return l;for(var a=0,h=1;;){var v=r.substring(l-h),i=e.indexOf(v);if(i==-1)return a;h+=i,(i==0||r.substring(l-h)==e.substring(0,h))&&(a=h,h++)}}function U(r,e){if(!r||!e||r.slice(-1)!==e.slice(-1))return 0;for(var n=0,g=Math.min(r.length,e.length),l=g,a=0;n<l;)r.substring(r.length-l,r.length-a)==e.substring(e.length-l,e.length-a)?(n=l,a=n):g=l,l=Math.floor((g-n)/2+n);return V(r.charCodeAt(r.length-l))&&l--,l}function C(r,e){var n=r.length>e.length?r:e,g=r.length>e.length?e:r;if(n.length<4||g.length*2<n.length)return null;function l(t,A,S){for(var D=t.substring(S,S+Math.floor(t.length/4)),s=-1,p="",m,M,R,w;(s=A.indexOf(D,s+1))!==-1;){var E=z(t.substring(S),A.substring(s)),P=U(t.substring(0,S),A.substring(0,s));p.length<P+E&&(p=A.substring(s-P,s)+A.substring(s,s+E),m=t.substring(0,S-P),M=t.substring(S+E),R=A.substring(0,s-P),w=A.substring(s+E))}return p.length*2>=t.length?[m,M,R,w,p]:null}var a=l(n,g,Math.ceil(n.length/4)),h=l(n,g,Math.ceil(n.length/2)),v;if(!a&&!h)return null;h?a?v=a[4].length>h[4].length?a:h:v=h:v=a;var i,c,b,u;r.length>e.length?(i=v[0],c=v[1],b=v[2],u=v[3]):(b=v[0],u=v[1],i=v[2],c=v[3]);var _=v[4];return[i,c,b,u,_]}function o(r){for(var e=!1,n=[],g=0,l=null,a=0,h=0,v=0,i=0,c=0;a<r.length;)r[a][0]==F?(n[g++]=a,h=i,v=c,i=0,c=0,l=r[a][1]):(r[a][0]==I?i+=r[a][1].length:c+=r[a][1].length,l&&l.length<=Math.max(h,v)&&l.length<=Math.max(i,c)&&(r.splice(n[g-1],0,[N,l]),r[n[g-1]+1][0]=I,g--,g--,a=g>0?n[g-1]:-1,h=0,v=0,i=0,c=0,l=null,e=!0)),a++;for(e&&O(r),f(r),a=1;a<r.length;){if(r[a-1][0]==N&&r[a][0]==I){var b=r[a-1][1],u=r[a][1],_=G(b,u),t=G(u,b);_>=t?(_>=b.length/2||_>=u.length/2)&&(r.splice(a,0,[F,u.substring(0,_)]),r[a-1][1]=b.substring(0,b.length-_),r[a+1][1]=u.substring(_),a++):(t>=b.length/2||t>=u.length/2)&&(r.splice(a,0,[F,b.substring(0,t)]),r[a-1][0]=I,r[a-1][1]=u.substring(0,u.length-t),r[a+1][0]=N,r[a+1][1]=b.substring(t),a++),a++}a++}}var H=/[^a-zA-Z0-9]/,J=/\s/,K=/[\r\n]/,q=/\n\r?\n$/,y=/^\r?\n\r?\n/;function f(r){function e(t,A){if(!t||!A)return 6;var S=t.charAt(t.length-1),D=A.charAt(0),s=S.match(H),p=D.match(H),m=s&&S.match(J),M=p&&D.match(J),R=m&&S.match(K),w=M&&D.match(K),E=R&&t.match(q),P=w&&A.match(y);return E||P?5:R||w?4:s&&!m&&M?3:m||M?2:s||p?1:0}for(var n=1;n<r.length-1;){if(r[n-1][0]==F&&r[n+1][0]==F){var g=r[n-1][1],l=r[n][1],a=r[n+1][1],h=U(g,l);if(h){var v=l.substring(l.length-h);g=g.substring(0,g.length-h),l=v+l.substring(0,l.length-h),a=v+a}for(var i=g,c=l,b=a,u=e(g,l)+e(l,a);l.charAt(0)===a.charAt(0);){g+=l.charAt(0),l=l.substring(1)+a.charAt(0),a=a.substring(1);var _=e(g,l)+e(l,a);_>=u&&(u=_,i=g,c=l,b=a)}r[n-1][1]!=i&&(i?r[n-1][1]=i:(r.splice(n-1,1),n--),r[n][1]=c,b?r[n+1][1]=b:(r.splice(n+1,1),n--))}n++}}function O(r,e){r.push([F,""]);for(var n=0,g=0,l=0,a="",h="",v;n<r.length;){if(n<r.length-1&&!r[n][1]){r.splice(n,1);continue}switch(r[n][0]){case I:l++,h+=r[n][1],n++;break;case N:g++,a+=r[n][1],n++;break;case F:var i=n-l-g-1;if(e){if(i>=0&&X(r[i][1])){var c=r[i][1].slice(-1);if(r[i][1]=r[i][1].slice(0,-1),a=c+a,h=c+h,!r[i][1]){r.splice(i,1),n--;var b=i-1;r[b]&&r[b][0]===I&&(l++,h=r[b][1]+h,b--),r[b]&&r[b][0]===N&&(g++,a=r[b][1]+a,b--),i=b}}if(W(r[n][1])){var c=r[n][1].charAt(0);r[n][1]=r[n][1].slice(1),a+=c,h+=c}}if(n<r.length-1&&!r[n][1]){r.splice(n,1);break}if(a.length>0||h.length>0){a.length>0&&h.length>0&&(v=z(h,a),v!==0&&(i>=0?r[i][1]+=h.substring(0,v):(r.splice(0,0,[F,h.substring(0,v)]),n++),h=h.substring(v),a=a.substring(v)),v=U(h,a),v!==0&&(r[n][1]=h.substring(h.length-v)+r[n][1],h=h.substring(0,h.length-v),a=a.substring(0,a.length-v)));var u=l+g;a.length===0&&h.length===0?(r.splice(n-u,u),n=n-u):a.length===0?(r.splice(n-u,u,[I,h]),n=n-u+1):h.length===0?(r.splice(n-u,u,[N,a]),n=n-u+1):(r.splice(n-u,u,[N,a],[I,h]),n=n-u+2)}n!==0&&r[n-1][0]===F?(r[n-1][1]+=r[n][1],r.splice(n,1)):n++,l=0,g=0,a="",h="";break}}r[r.length-1][1]===""&&r.pop();var _=!1;for(n=1;n<r.length-1;)r[n-1][0]===F&&r[n+1][0]===F&&(r[n][1].substring(r[n][1].length-r[n-1][1].length)===r[n-1][1]?(r[n][1]=r[n-1][1]+r[n][1].substring(0,r[n][1].length-r[n-1][1].length),r[n+1][1]=r[n-1][1]+r[n+1][1],r.splice(n-1,1),_=!0):r[n][1].substring(0,r[n+1][1].length)==r[n+1][1]&&(r[n-1][1]+=r[n+1][1],r[n][1]=r[n][1].substring(r[n+1][1].length)+r[n+1][1],r.splice(n+1,1),_=!0)),n++;_&&O(r,e)}function L(r){return r>=55296&&r<=56319}function V(r){return r>=56320&&r<=57343}function W(r){return V(r.charCodeAt(0))}function X(r){return L(r.charCodeAt(r.length-1))}function x(r){for(var e=[],n=0;n<r.length;n++)r[n][1].length>0&&e.push(r[n]);return e}function Z(r,e,n,g){return X(r)||W(g)?null:x([[F,r],[N,e],[I,n],[F,g]])}function d(r,e,n){var g=typeof n=="number"?{index:n,length:0}:n.oldRange,l=typeof n=="number"?null:n.newRange,a=r.length,h=e.length;if(g.length===0&&(l===null||l.length===0)){var v=g.index,i=r.slice(0,v),c=r.slice(v),b=l?l.index:null;r:{var u=v+h-a;if(b!==null&&b!==u||u<0||u>h)break r;var _=e.slice(0,u),t=e.slice(u);if(t!==c)break r;var A=Math.min(v,u),S=i.slice(0,A),D=_.slice(0,A);if(S!==D)break r;var s=i.slice(A),p=_.slice(A);return Z(S,s,p,c)}r:{if(b!==null&&b!==v)break r;var m=v,_=e.slice(0,m),t=e.slice(m);if(_!==i)break r;var M=Math.min(a-m,h-m),R=c.slice(c.length-M),w=t.slice(t.length-M);if(R!==w)break r;var s=c.slice(0,c.length-M),p=t.slice(0,t.length-M);return Z(i,s,p,R)}}if(g.length>0&&l&&l.length===0)r:{var S=r.slice(0,g.index),R=r.slice(g.index+g.length),A=S.length,M=R.length;if(h<A+M)break r;var D=e.slice(0,A),w=e.slice(h-M);if(S!==D||R!==w)break r;var s=r.slice(A,a-M),p=e.slice(A,h-M);return Z(S,s,p,R)}return null}function j(r,e,n,g){return Q(r,e,n,g,!0)}return j.INSERT=I,j.DELETE=N,j.EQUAL=F,$=j,$}export{rr as r};
